<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>The $$q$$-derivative | Juan Pablo Vigneaux</title> <meta name="author" content="Juan Pablo Vigneaux"> <meta name="description" content="About $$q$$-calculus and $$q$$-multinomial coefficients"> <meta name="keywords" content="information, entropy, topology, measure-theory, category-theory, magnitude, optimal-transport,"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://jpvigneaux.github.io/blog/2023/the-q-disease/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Juan Pablo </span> Vigneaux</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/"><span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">The $$q$$-derivative</h1> <p class="post-meta">August 7, 2023</p> <p class="post-tags"> <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/formatting"> <i class="fas fa-hashtag fa-sm"></i> formatting</a>   <a href="/blog/tag/math"> <i class="fas fa-hashtag fa-sm"></i> math</a>     ·   <a href="/blog/category/sample-posts"> <i class="fas fa-tag fa-sm"></i> sample-posts</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Consider the expression \begin{equation}\label{quotient} \frac{f(x)-f(x_0)}{x-x_0}. \end{equation} In analysis, we define the (infinitesimal) derivative as the limit of \eqref{quotient} when \(x\to x_0\). However, if we just replace \(x\) by \(qx\) or \(x+h\), without taking the limit, we enter the world of ``quantum’’ calculus (\(q\)-calculus or \(h\)-calculus). The case of \(h\)-calculus correspond to difference equations and won’t be treated in this article. We will focus on \(q\)-calculus, that has rich relations with number theory and the representation theory of quantum groups.</p> <p>For any \(q\neq 1\), the \(q\)-derivative of a function \(f:\Rr\to \Rr\) is defined as \begin{equation} D_q f(x) = \frac{f(qx) - f(x)}{(q-1)x} \equiv \frac{d_q f(x)}{d_qx}. \end{equation} Remark that \(D_q\) is a linear operator. We work here on the real numbers, but we could use other field (of characteristic \(0\), for some constructions bellow); for instance, in representation theory, \(q\) is sometimes a complex root of unity.</p> <p>Since \(D_q x^n = \frac{q^n - 1}{q-1} x^{n-1}\), we define the \(q\)-analog of the integer \(n\) (a \(q\)-integer) by \begin{equation} [n]:= \frac{q^n - 1}{q-1} = 1 + q + \cdots + q^{n-1}. \end{equation} With this notation, \(D_qx^n = [n]x^{n-1}\).</p> <p>The \(q\)-derivative satisfies a deformed product rule: \begin{equation} D_q(f(x)g(x)) = f(qx) (D_qg(x)) + (D_qf(x)) g(x); \end{equation} the reader can verify this by direct computation. The commutativity of the product of functions gives a second product rule \begin{equation} D_q(f(x)g(x)) = g(qx) (D_qf(x)) + (D_qg(x)) f(x). \end{equation} The application of this rule to the equality \(g(x) \left(\frac{f(x)}{q(x)}\right) = f(x)\) allows us to deduce a formula for the derivative of a quotient of functions. However, there is no chain rule in \(q\)-calculus.</p> <p>\section{Taylor formula}</p> <p>The following proposition generalizes the usual Taylor formula.</p> <div class="proposition"> Let $$a$$ be a real number; $$D$$, a linear operator on $$\Rr[x]$$ (polynomials with real coefficients), and $$\{P_0(x), P_1(x), P_2(x),...\}$$, a sequence of polynomials satisfying: \begin{enumerate} \item\label{condition_evaluation} $$P_0(a) = 1, \quad P_n(a)=0 \text{ for all }n\geq 1$$. \item\label{condition_deg} $$\deg P_n = n.$$ \item\label{condition_derivative} $$DP_n = P_{n-1}$$ for all $$n\geq 1$$ and $$D(1)=0$$. \end{enumerate} Then, for any polynomial $$f(x)$$ of degree $$N$$ one has \begin{equation} f(x) = \sum_{k=1}^N (D^k f)(a) P_k(x). \end{equation} </div> <p>The proof of this proposition is relatively simple. By condition \eqref{condition_deg}, the set \(\{P_i\}_i\) is a base of \(\Rr[x]\). Therefore, \(f\) can be expressed as a combination \(\sum_{i=0}^N c_k P_k\), where \(c_k\) are appropriate constants. To find \(c_0\), just evaluate \(f\) at \(a\) to obtain \(c_0 = f(a)\), by condition \eqref{condition_evaluation}. In virtue of \eqref{condition_derivative}, \(f'(x) = \sum_{k=1}^N c_k P_{k-1}\), which implies that \(c_1 = f'(a)\). By recursion, \(c_k = (D^k f)(a)\).</p> <p>Remark that the same reasoning allows us to express any formal series \(f\) as an the infinite linear combination \(\sum_{k=0}^\infty (D^k f)(a) P_k(x)\); this turns out to be important in the applications to number theory.</p> <p>The usual Taylor polynomials correspond to the case \(D = \frac{d}{dx}\) and \(P_n(x) = \frac{(x-a)^n}{n!}\). Of course, we want to set now \(D= D_q\)… what is the good choice of \(P_n\)s? If \(a=0\), we can simply take \(P_n(x) = \frac{x^n}{[n]!}\), where \([n]! = [n][n-1]\cdots [1]\). But, in general, \(\frac{(x-a)^n}{[n]!}\) does not give the good solution. It is clear that \(P_0(x) = 1\) and \(P_1(x) = x-a\); in turn, by conditions \eqref{condition_derivative} and \eqref{condition_evaluation}, this implies that \begin{equation} P_2(x) = \frac{x^2}{[2]!} - ax - \frac{a^2}{[2]!} + a^2 = \frac{(x-a)(x-qa)}{[2]!}. \end{equation} It turns out that, for \(n\geq 1\), the good choice is \begin{equation} P_n(x) := \frac{(x-a)(x-qa)\cdots (x-q^{n-1}a)}{[n]!}. \end{equation} Following \cite{Kac}, we will simply write \((x-a)^n_q\) instead of \((x-a)(x-qa)\cdots (x-q^{n-1}a)\); by convention, \((x-a)^0_q = 1\). In the theory of hypergeometric functions, the quantity \((1-a)(1-qa)\cdots (1-q^{n-1}a)\) is denoted \((a;q)_n\) and called ``the \(q\)-Pochhammer symbol’’.</p> <div class="proposition"> For $$n\geq 1$$, $$D_q(x-a)^n_q = [n](x-a)_q^{n-1}$$. </div> <p>This is proved by induction on \(n\). For \((x-a)_q^{n+1} = (x-a)^n_q (x-q^n a)\), the product rule gives \begin{align} D_q(x-a)_q^{n+1} &amp;= (qx-q^na)D_q(x-a)^n_q + (x-a)^n_q D_q(x-q^na) <br> &amp; = q(x-q^{n-1}a)<a href="x-a">n</a>^{n-1}_q + (x-a)^{n}_q<br> &amp;= (q[n] + 1) (x-a)^{n}_q = (q(1+\cdots +q^{n-1})+1) (x-a)^{n}_q <br> &amp;= [n+1] (x-a)^{n}_q. \end{align}</p> <p>Therefore, we conclude that:</p> <div class="proposition"> For any polynomial $$f(x)$$ of degree $$N$$ and any number $$c\in \Rr$$, the following $$q$$-Taylor formula is satisfied: \begin{equation}\label{taylor} f(x) =\sum_{i=0}^N (D_q^jf)(c) \frac{(x-c)^j_q}{[j]!}. \end{equation} </div> <p>Let us apply the formula to \(f(x) = (x+a)^n_q\) and \(c=0\). We simply replace \begin{equation} D_q^jf(0) = [n]\cdots [n-j+1] (0+a)^n_q = [n]\cdots [n-j+1] q^{(n-j)(n-j-1)/2} a^{n-j}, \end{equation} in \eqref{taylor} and then make the change of variables \(k=n-j\) to get the so called \textbf{Gauss binomial formula}: \begin{equation} (x+a)^n_q =\sum_{k=0}^n \qbinom n k q^{k(k-1)/2} a^kx^{n-k}. \end{equation} The coefficient \(\qbinom n k\) equals \(\frac{[n]!}{[k]![n-k]!}\) and |naturally| it is called \(q\)-binomial coefficient (or Gaussian binomial coefficient).</p> <p>There is another binomial theorem that involves the coefficients \(\qbinom nk\).</p> <div class="proposition">\label{non-comm-binomial-thm} Suppose that $$x, y$$ are two variables such that \begin{equation}\label{commutator} yx = qxy. \end{equation} Then, \begin{equation} (x+y)^n = \sum_{k=0}^n \qbinom n k x^k y^{n-k}. \end{equation} &lt;/end&gt; Side note: the real algebra generated by $$x$$ and $$y$$ under the relation \eqref{commutator} is called "the quantum plane". (Why algebras are planes? Look for "affine algebraic variety".) Proposition \ref{non-comm-binomial-thm} can be proved by recursion, using the relation \begin{equation} \qbinom n k = \qbinom{n-1}{k-1} + q^k\qbinom{n-1}{k}. \end{equation} In turn, this relation can be easily deduced from the definition of $$\qbinom nk$$; it is also a consequence of the second combinatorial interpretation of the $$q$$-binomial coefficients described bellow. \section{The $$q$$-binomial coefficients} Let us begin by an interpretation of Proposition \ref{non-comm-binomial-thm}. Recall that the usual binomial coefficients $$\binom nk$$ count the number of sequences in $$\{x,y\}^n$$ such that $$x$$ appears $$k$$ times; we call these ``n-sequences of type $$k$$''. Let us imagine each $$x$$ as a horizontal unitary vector in the plane, pointing to the right; each $$y$$ as a vertical unitary vector, pointing up; and the concatenation of symbols (from left to right) as concatenation of the corresponding arrows. Then an $$n$$-sequence of type $$k$$ can be interpreted as a path from $$(0,0)$$ to $$(k,n-k)$$. For example, the sequence $$xyxx$$ is \begin{equation} \begin{tikzcd} &amp; (1,1) \ar[r, "x"] &amp; (2,1) \ar[r, "x"] &amp; (3,1) \\ (0,0) \ar[r, "x"] &amp; (1,0) \ar[u, "y"] &amp; &amp; \end{tikzcd} \end{equation} Moreover, two different sequences always give two different paths. The paths from $$(0,0)$$ to $$(k,n-k)$$ that just move rightward and upward, and the $$n$$-sequences of type $k$ are in bijection; any of these sets has cardinality $$\binom nk$$. The $$q$$-binomial works similarly, but now you have to keep track of any permutations between $$x$$ and $$y$$. Given an $$n$$-sequence of type $$k$$, say $$s$$, let $$A(s)$$ denote the area between the line $$x=k$$, the line $$y=0$$ and the path represented by the sequence $$s$$. For example, $$A(x^k y^{n-k})=0$$. Any other path can be transformed into this path, but any time you turn \begin{equation}\label{trans_area} \begin{tikzcd} \bullet \ar[r, "x"] &amp; \bullet \\ \bullet \ar[u, "y"] &amp; \end{tikzcd} \quad \text{into} \quad \begin{tikzcd} &amp; \bullet \\ \bullet \ar[r, "x"] &amp;\bullet \ar[u, "y"] \end{tikzcd} \end{equation} you have to multiply by $$q$$; this means that $$q$$ keeps track of a unit of area that you lost when you turned $$yx$$ into $$xy$$. In general, any $$n$$-sequence $$s$$ of type $$k$$ can be transformed into $$x^ky^{n-k}$$ through the iterated application of the transformation \eqref{trans_area}; at the end, you find $$s=q^{A(s)}x^k y^{n-k}$$. The discussion above implies that \textbf{$$\qbinom nk$$ is a polynomial in $$q$$, and the coefficient of the power $$q^A$$ counts the number of $$n$$-sequences of type $$k$$ that determine an area $$A$$. } There is another combinatorial interpretation for the $$q$$-binomial coefficients; as far as we know, this interpretation is completely unrelated to the previous one. \begin{proposition}\label{subspaces} Let $$q$$ be a prime power. The coefficient $$\qbinom nk$$ counts the number of $$k$$ dimensional vector subspaces of $$\Ff_q^n$$. \end{proposition} \begin{proof} Note that $$\Ff_q^n$$ has $$q^n$$ points. If $$k=0$$, then $$\qbinom n 0 = 1$$ counts the only space of dimension $$0$$. When $$k\geq 1$$, to build a $$k$$-dimensional subspace, pick first a vector $$v_1\neq 0$$ ($$q^n-1$$ possibilities), then a vector $$v_2$$ independent of $$v_1$$ ($$q^n-q$$ possibilities, that correspond to the vectors outside $$\langle v\rangle$$), and continue this way up to $$v_k$$ ($$q^n-q^{k-1}$$ possibilities). This means that there are \begin{equation}\label{number_LI} (q^n-1)(q^n-q)\cdots(q^n-q^{k-1}) \end{equation} ways of choosing $$k$$ independent vectors. But different collection of vectors can give the same subspace (we are double-counting). To count the number of subspaces, we must divide \eqref{number_LI} by the number of bases of a $$k$$-dimensional subspace. This cardinality is obtained by the same reasoning (pick a first element of the base, then a second independent of the first one...). Therefore, \begin{equation} (\text{number of }k\text{ dimensional subspaces} = \frac{(q^n-1)(q^n-q)\cdots(q^n-q^{k-1}) }{(q^k-1)(q^k-1)\cdots (q^k-q^{k-1})} = \qbinom nk. \end{equation} \end{proof} As promised, the Pascal relation \begin{equation} \qbinom n k = \qbinom{n-1}{k-1} + q^k\qbinom{n-1}{k}. \end{equation} can be deduced from the following observation: let $$\{e_1,...,e_n\}$$ be a base of $$\Ff_q^n$$ and identify $$\Ff_q^{n-1}$$ with $$\langle e_1,...,e_{n-1}\rangle$$; a $$k$$ dimensional subspace is either \begin{itemize} \item $$W\oplus \langle e_n\rangle$$, with $$W$$ a $$k-1$$ dimensional subspace of $$\Ff_q^{n-1}$$; \item The graph of a $$k$$ dimensional space $$W'$$ contained in $$\Ff_q^{n-1}$$; there are $$q^k$$ different linear applications that can be defined on $$W'$$ (the cardinality of the dual of $$\Ff_q^{k}$$). \end{itemize} Some final remarks: Proposition \ref{subspaces} show a very strong analogy between the counting of subsets of a set of cardinality $$n$$ and the counting of subspaces of $$\Ff_q^n$$. One could wonder in which sense an $$n$$-element set is like $$\Ff_1^n$$. Of course, there is no field of characteristic one, but there are very good reasons to give mathematical content to this analogy. One of these reason is that $$\Zz$$ is expected to be a $$\Ff_1$$-algebra, and therefore $$\operatorname{Spec}(\Zz)$$ could be thought as a ``curve'' over $$\Ff_1$$. Many people hope that we will be able to reproduce the proof of the Weil conjecture (developed mainly by Grothendieck and Deligne) to prove the Riemann hypothesis. Connes and Consani have defined the ``arithmetic site'' to move in this direction. There is a context in which the analogy between sets and spaces can be made precise. Proposition \ref{subspaces} can be modified to prove that $$\qbinom{n+1}{k+1}$$ count the number of $$k$$ dimensional subspaces of $$\mathbb P^n(F_q)$$, the projective space. Birkhoff defined axiomatically a ``projective geometry of order $$q$$'', where one can find the known projective spaces $$\mathbb P^n(F_q)$$ as particular examples of order $$q$$. The Boolean algebra of a finite set is a projective geometry of order $$1$$. Just from the axioms, one can prove the analogous of Proposition \ref{subspaces}, and the counting of subsets of a set sits simply as a particular case. See \cite{cohn2004projective}. </div> </div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Juan Pablo Vigneaux. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: August 28, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams",inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0,macros:{Rr:"{\\mathbb R}",bold:["{\\bf #1}",1]}}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>